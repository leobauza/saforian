/* safo.js - jquery required */function getInternetExplorerVersion(){var e=-1;if(navigator.appName=="Microsoft Internet Explorer"){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");n.exec(t)!=null&&(e=parseFloat(RegExp.$1))}return e}function gallerySetUp(){$(".safo-work img").each(function(){var e=$(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"998",opacity:"0"}).insertBefore(e).queue(function(){var e=$(this);e.parent().css({width:this.width,height:this.height});e.dequeue()});this.src=grayscale(this.src)})}function gallerySetUp2(){$("#iso-cont img").not(".ignore").each(function(){var e=$(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"998",opacity:"0"}).insertBefore(e).queue(function(){var e=$(this);e.parent().css({width:this.width+28,height:this.height});e.dequeue()});this.src=grayscale(this.src)})}function makeFred(e,t,n,r){var i=$(e).attr("data-auto"),s=parseFloat($(e).attr("data-duration"));$(e+" .slides").carouFredSel({responsive:!0,infinite:!0,auto:!0,items:{visible:n,height:t,width:r},scroll:{onAfter:function(e,t,n){$(t).closest(".slides").find(".slide.active").removeClass("active");$(t).next(".slide").addClass("active")},duration:s},items:1,fx:"scroll",next:{button:e+" .next-slide",key:"right"},prev:{button:e+" .prev-slide",key:"left"},pagination:e+" .slide-pag"});i==undefined?$(e+" .slides").trigger("pause"):$(e).hover(function(){$(this).find(".slides").trigger("pause")},function(){$(this).find(".slides").trigger("play")})}function grayscale(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;r.src=e;t.width=r.width;t.height=r.height;n.drawImage(r,0,0);var i=n.getImageData(0,0,t.width,t.height);for(var s=0;s<i.height;s++)for(var o=0;o<i.width;o++){var u=s*4*i.width+o*4,a=(i.data[u]+i.data[u+1]+i.data[u+2])/3;i.data[u]=a;i.data[u+1]=a;i.data[u+2]=a}n.putImageData(i,0,0,0,0,i.width,i.height);return t.toDataURL()}function changeImage(){document.getElementById("imgClickAndChange").src=="http://www.saforian.com/images/va-slider/lightbulb-off.png"?document.getElementById("imgClickAndChange").src="http://www.saforian.com/images/va-slider/lightbulb-on.png":document.getElementById("imgClickAndChange").src="http://www.saforian.com/images/va-slider/lightbulb-off.png"}var ieVer=getInternetExplorerVersion(),$winWidth=$(window).width();$(window).resize(function(){$winWidth=$(window).width();$winWidth>940&&$("#site-nav ul").show()});$(document).ready(function(){function e(e,t){if($winWidth<700)var n=$(".opennav").height();else var n=55;$("html, body").animate({scrollTop:$(t).offset().top-n},500)}$(".method-nav .button").click(function(e){var t=$(this).attr("rel");if(t=="our-services"){$("#focus-wrap").fadeTo("fast",.2,function(){$(this).css({"z-index":"50"})});$("#sliders-cont").addClass("lighten")}else{$("#focus-wrap").css({"z-index":"200"}).fadeTo("fast",1);$("#sliders-cont").removeClass("lighten")}});$(".contact-form input[type=text]").focus(function(e){var t=$(this).attr("name");$("label[for="+t+"]").hide()});$(".contact-form input[type=text]").blur(function(e){var t=$(this).attr("name");$(this).val()==""&&$("label[for="+t+"]").show()});$(".shownav").waypoint(function(e,t){if(t==="down"){if($winWidth>940){$(".safo-nav").slideDown();$(".safo-head").slideUp()}}else if($winWidth>940){$(".safo-nav").slideUp();$(".safo-head").slideDown()}});$("section").each(function(){$(this).attr("data-default-height",$(this).outerHeight());$(this).attr("data-default-padding-top",$(this).css("padding-top").replace("px",""));$(this).attr("data-default-padding-bottom",$(this).css("padding-bottom").replace("px",""))});$("#site-nav a").click(function(){e("#"+$(this).attr("id"),"."+$(this).attr("data-scrollto"));return!1})});var winWidth=$(window).width();$(window).load(function(){$(".safo-work img").animate({opacity:1},500);if(ieVer==-1||ieVer==9){gallerySetUp();gallerySetUp2()}$(".safo-work img").mouseover(function(){$(this).parent().find("img:first").stop().animate({opacity:1},1e3)});$(".img_grayscale").mouseout(function(){$(this).stop().animate({opacity:0},1e3)});$("#iso-cont img").mouseover(function(){$(this).parent().find("img:first").stop().animate({opacity:1},1e3)});$(".img_grayscale").mouseout(function(){$(this).stop().animate({opacity:0},1e3)});$(".div1").waypoint(function(e,t){t==="down"?$(".div1").animate({opacity:.1},200):$(".div1").animate({opacity:1},500)});$(".div2").waypoint(function(e,t){t==="down"?$(".div2").animate({opacity:.1},200):$(".div2").animate({opacity:1},500)});$(".div3").waypoint(function(e,t){t==="down"?$(".div3").animate({opacity:.1},200):$(".div3").animate({opacity:1},500)});$(".div4").waypoint(function(e,t){t==="down"?$(".div4").animate({opacity:.1},200):$(".div4").animate({opacity:1},500)});$(".file-up").hide();$(".file-toggle").click(function(){$(".file-up").toggle()});$(".desc-up").hide();$(".desc-toggle").click(function(){$(".desc-up").toggle()});$(".services-slide-2").hide();$(".dot1").addClass("on");$(".dot2").addClass("off");$(".dot1").click(function(){$(".services-slide-1").fadeIn("slow");$(".services-slide-2").hide();$(".dot1").removeClass("off");$(".dot1").addClass("on");$(".dot2").removeClass("on");$(".dot2").addClass("off")});$(".dot2").click(function(){$(".services-slide-1").hide();$(".services-slide-2").fadeIn("slow");$(".dot2").removeClass("off");$(".dot2").addClass("on");$(".dot1").removeClass("on");$(".dot1").addClass("off")});$(".services-arrow-right").click(function(){if($(".services-slide-1").is(":visible")){$(".services-slide-1").hide();$(".services-slide-2").fadeIn("slow");$(".dot2").removeClass("off");$(".dot2").addClass("on");$(".dot1").removeClass("on");$(".dot1").addClass("off")}else{$(".services-slide-2").hide();$(".services-slide-1").fadeIn("slow");$(".dot1").removeClass("off");$(".dot1").addClass("on");$(".dot2").removeClass("on");$(".dot2").addClass("off")}});$(".services-arrow-left").click(function(){if($(".services-slide-1").is(":visible")){$(".services-slide-1").hide();$(".services-slide-2").fadeIn("slow");$(".dot2").removeClass("off");$(".dot2").addClass("on");$(".dot1").removeClass("on");$(".dot1").addClass("off")}else{$(".services-slide-2").hide();$(".services-slide-1").fadeIn("slow");$(".dot1").removeClass("off");$(".dot1").addClass("on");$(".dot2").removeClass("on");$(".dot2").addClass("off")}});$(".circle-slide2").hide();$(".circle-slide3").hide();$(".circle-slide4").hide();$(".circle-slide5").hide();$(".dot1-circleslide").addClass("on");$(".dot2-circleslide").addClass("off");$(".dot3-circleslide").addClass("off");$(".dot4-circleslide").addClass("off");$(".dot5-circleslide").addClass("off");$(".dot1-circleslide").click(function(){$(".circle-slide1").fadeIn("slow");$(".circle-slide2").hide();$(".circle-slide3").hide();$(".circle-slide4").hide();$(".circle-slide5").hide();$(".dot1-circleslide").removeClass("off");$(".dot1-circleslide").addClass("on");$(".dot2-circleslide").removeClass("on");$(".dot2-circleslide").addClass("off");$(".dot3-circleslide").removeClass("on");$(".dot3-circleslide").addClass("off");$(".dot4-circleslide").removeClass("on");$(".dot4-circleslide").addClass("off");$(".dot5-circleslide").removeClass("on");$(".dot5-circleslide").addClass("off")});$(".dot2-circleslide").click(function(){$(".circle-slide2").fadeIn("slow");$(".circle-slide1").hide();$(".circle-slide3").hide();$(".circle-slide4").hide();$(".circle-slide5").hide();$(".dot2-circleslide").removeClass("off");$(".dot2-circleslide").addClass("on");$(".dot1-circleslide").removeClass("on");$(".dot1-circleslide").addClass("off");$(".dot3-circleslide").removeClass("on");$(".dot3-circleslide").addClass("off");$(".dot4-circleslide").removeClass("on");$(".dot4-circleslide").addClass("off");$(".dot5-circleslide").removeClass("on");$(".dot5-circleslide").addClass("off")});$(".dot3-circleslide").click(function(){$(".circle-slide3").fadeIn("slow");$(".circle-slide1").hide();$(".circle-slide2").hide();$(".circle-slide4").hide();$(".circle-slide5").hide();$(".dot3-circleslide").removeClass("off");$(".dot3-circleslide").addClass("on");$(".dot1-circleslide").removeClass("on");$(".dot1-circleslide").addClass("off");$(".dot2-circleslide").removeClass("on");$(".dot2-circleslide").addClass("off");$(".dot4-circleslide").removeClass("on");$(".dot4-circleslide").addClass("off");$(".dot5-circleslide").removeClass("on");$(".dot5-circleslide").addClass("off")});$(".dot4-circleslide").click(function(){$(".circle-slide4").fadeIn("slow");$(".circle-slide1").hide();$(".circle-slide2").hide();$(".circle-slide3").hide();$(".circle-slide5").hide();$(".dot4-circleslide").removeClass("off");$(".dot4-circleslide").addClass("on");$(".dot1-circleslide").removeClass("on");$(".dot1-circleslide").addClass("off");$(".dot2-circleslide").removeClass("on");$(".dot2-circleslide").addClass("off");$(".dot3-circleslide").removeClass("on");$(".dot3-circleslide").addClass("off");$(".dot5-circleslide").removeClass("on");$(".dot5-circleslide").addClass("off")});$(".dot5-circleslide").click(function(){$(".circle-slide5").fadeIn("slow");$(".circle-slide1").hide();$(".circle-slide2").hide();$(".circle-slide3").hide();$(".circle-slide4").hide();$(".dot5-circleslide").removeClass("off");$(".dot5-circleslide").addClass("on");$(".dot1-circleslide").removeClass("on");$(".dot1-circleslide").addClass("off");$(".dot2-circleslide").removeClass("on");$(".dot2-circleslide").addClass("off");$(".dot3-circleslide").removeClass("on");$(".dot3-circleslide").addClass("off");$(".dot4-circleslide").removeClass("on");$(".dot4-circleslide").addClass("off")});$(".safo-client").each(function(){var e=$(this).find("img").attr("src");$(this).find("h3").before("<img class='mobile-img' src='"+e+"' />")});$("#iso-cont .safo-client").not(".filter").each(function(){var e=$(this).find("img").attr("src");$(this).find("a").append("<img class='mobile-img' src='"+e+"' />")});$(".safo-client a").not(".ignore").click(function(e){e.preventDefault()});$(".method-nav-second a").click(function(e){var t=$(this).attr("href");$(this).closest(".method-group").find(".show").removeClass("show").fadeOut(function(){$(this).closest(".method-group").find(t).fadeIn().addClass("show")});$(this).closest(".method-nav-second").find(".active").removeClass("active");$(this).addClass("active");e.preventDefault()});if($(".slides").length){$('[data-slider="slider"]').each(function(){var e="#"+$(this).attr("id"),t=$(this).data(),n=t.height||"39.509804%",r=parseFloat(t.items)||1,i=parseFloat(t.width)||winWidth;makeFred(e,n,r,i)});var e=200;$(".slides").each(function(t){$(this).delay(e).animate({opacity:1},700);e+=200});$(".next-prev").fadeIn(700);$(".our-services").length}$(".wallpaperbutton.next").click(function(e){$(this).closest(".row-fluid").find(".slide").trigger("next",1);e.preventDefault()});$(".wallpaperbutton.prev").click(function(e){$(this).closest(".row-fluid").find(".slide").trigger("prev",1);e.preventDefault()});$(".file").length&&$(".file").uniform();$("#rotatescroll").length&&$("#rotatescroll").tinycircleslider({interval:!0,snaptodots:!0})});$(function(){function n(){$(".job-share .fbook a, .job-share .twitter a, .job-share .gplus a").unbind("click");if($(".job-share .twitter a").length){$(".job-share .twitter a").click(function(t){var n=$(this).attr("href");e(n);t.preventDefault()});function e(e){var t=$(window).width()/2-270,n=$(window).height()/2-210;TweetWindow=window.open(e,"","width=540,height=420");TweetWindow.moveTo(t,n);TweetWindow.focus()}}if($(".job-share .fbook a").length){$(".job-share .fbook a").click(function(e){var n=$(this).attr("href");t(n);e.preventDefault()});function t(e){var t=$(window).width()/2-270,n=$(window).height()/2-210;ShareWindow=window.open(e,"","width=640,height=394");ShareWindow.moveTo(t,n);ShareWindow.focus()}}if($(".job-share .gplus a").length){$(".job-share .gplus a").click(function(e){var t=$(this).attr("href");n(t);e.preventDefault()});function n(e){var t=$(window).width()/2-270,n=$(window).height()/2-210;PlusWindow=window.open(e,"","width=640,height=394");PlusWindow.moveTo(t,n);PlusWindow.focus()}}}function s(){var e={center:r,zoom:11,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},t=new google.maps.Map(document.getElementById("googleMap"),e),n=new google.maps.Marker({position:i,icon:"http://www.saforian.com/images/google-pin-smaller.png"});n.setMap(t);var s=new google.maps.InfoWindow({content:'<div class="google-box">		<div class="title">Old Town Manassas, VA</div>			<div>				<p><a href="7033304499">703.330.4499</a> | <a href="mailto:hello@saforian.com">hello@saforian.com</a></p>			</div>		</div>'});s.open(t,n)}var e=0;$(".opennav").click(function(t){$this=$(this);if(e==0){$("#site-nav ul").slideDown();$this.addClass("up");e=1}else{$("#site-nav ul").slideUp();$this.removeClass("up");e=0}});$("#site-nav a").click(function(){if($winWidth<941){$("#site-nav ul").slideUp();$(".opennav").removeClass("up");e=0}});var e=0;$(".csnav").click(function(t){$this=$(this);if(e==0){$("#case-nav ul").slideDown();$this.addClass("up");e=1}else{$("#case-nav ul").slideUp();$this.removeClass("up");e=0}});$("#case-nav a").click(function(){if($winWidth<941){$("#case-nav ul").slideUp();$(".csnav").removeClass("up");e=0}});var t=0;$(".client-list .show-more").click(function(e){if(t==0){$(".client-list p").slideDown();$(this).html("<span></span>Less clients, partners &amp; friends<span></span>");t=1}else{$(".client-list p").not(".feat").slideUp();$(this).html("<span></span>More clients, partners &amp; friends<span></span>");t=0}e.preventDefault()});n();$(".dl-button").live("click",function(){window.open($(".slide img").attr("src"))});$("[data-section]").waypoint(function(e,t){if(t==="down"){var n=$(this).attr("data-section");$("#site-nav .on").removeClass("on");$("#site-nav").find("a[data-scrollto="+n+"]").addClass("on")}else{var n=$(this).attr("data-section");$("#site-nav .on").removeClass("on");$("#site-nav").find("a[data-scrollto="+n+"]").parent().prev().find("a").addClass("on")}},{offset:56});$theHash=document.location.hash;if($theHash){$("a[href="+$theHash+"]").trigger("click");document.location.hash=""}if($("#googleMap").length)var r=new google.maps.LatLng(38.8462096,-77.3063953),i=new google.maps.LatLng(38.7453191,-77.4503217);$("#googleMap").length&&google.maps.event.addDomListener(window,"load",s);var o=$("#site-nav").width();o<575&&(o=575);$("#site-nav ul").width(o);$(window).resize(function(){if($winWidth>0)var e=$("#site-nav").width();e<575&&(e=575);$newWinWidth=$(window).width();$newWinWidth>940&&$("#site-nav ul").width(e)});if($("#iso-cont").length){$.Isotope.prototype._getCenteredMasonryColumns=function(){this.width=this.element.width();var e=this.element.parent().width(),t=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(!0)||e,n=Math.floor(e/t);n=Math.max(n,1);this.masonry.cols=n;this.masonry.columnWidth=t};$.Isotope.prototype._masonryReset=function(){this.masonry={};this._getCenteredMasonryColumns();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)};$.Isotope.prototype._masonryResizeChanged=function(){var e=this.masonry.cols;this._getCenteredMasonryColumns();return this.masonry.cols!==e};$.Isotope.prototype._masonryGetContainerSize=function(){var e=0,t=this.masonry.cols;while(--t){if(this.masonry.colYs[t]!==0)break;e++}return{height:Math.max.apply(Math,this.masonry.colYs),width:(this.masonry.cols-e)*this.masonry.columnWidth}};$container=$("#iso-cont");$container.isotope({filter:".first-page",itemSelector:".item",masonry:{columnWidth:320}});$(".filter a").click(function(e){var t=$(this).attr("data-filter");$container.isotope({filter:t});$("body").scrollTo(".our-work",500);e.preventDefault()})}if($("#resizable").length){$("#resizable").resizable({containment:".std-block",grid:200,maxHeight:810,maxWidth:1020,minHeight:810,minWidth:400});$("#resizable").on("resize",function(e,t){$boxWidth=$(this).width();console.log($boxWidth);if($boxWidth>820){$("#resizable").removeClass();$("#resizable").addClass("full");console.log("full")}else if($boxWidth>620&&$boxWidth<=820){$("#resizable").removeClass();$("#resizable").addClass("iPad");console.log("iPad landscape")}else if($boxWidth>420&&$boxWidth<=620){$("#resizable").removeClass();$("#resizable").addClass("iPad portrait");console.log("iPad portrait")}else if($boxWidth<=420){$("#resizable").removeClass();$("#resizable").addClass("iPhone");console.log("iPhone")}})}});$("#contact").find(".check-group").each(function(){var e=$(this).find("label").html(),t=$(this).find("input").attr("checked");$(this).append('<a href="#" data-input="checkbox" class="pretty-checkbox"></a>');t=="checked"&&$(this).find("a").addClass("active")});$("[data-input=checkbox]").click(function(e){if($(this).hasClass("active")){$(this).removeClass("active");$(this).closest(".check-group").find("input").attr("checked",!1)}else{$(this).addClass("active");$(this).closest(".check-group").find("input").attr("checked",!0)}e.preventDefault()});$("#four").live("click",function(){document.getElementById("imgClickAndChange").src="http://www.saforian.com/images/va-slider/lightbulb-on.png"});